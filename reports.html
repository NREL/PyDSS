<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reports &mdash; PyDSS 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="HDF Data Format" href="hdf-data-format.html" />
    <link rel="prev" title="Enhanced result export features" href="Result%20management.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> PyDSS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#create-an-empty-project">Create an empty project</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#customize-the-simulation-settings">Customize the simulation settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#opendss-models">OpenDSS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#run-the-simulation">Run the simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#results">Results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#create-a-project">Create a project</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#exporting-data">Exporting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#pre-filtering-export-data">Pre-filtering Export Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#run-a-project">Run a project</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#analyze-results">Analyze results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#exported-csv-files">Exported CSV files</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#data-viewer">Data Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#access-results-programmatically">Access results programmatically</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#load-element-classes-and-properties">Load element classes and properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#read-a-dataframe-for-one-element">Read a dataframe for one element</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#read-a-dataframe-for-one-element-with-a-specific-option">Read a dataframe for one element with a specific option</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#read-a-dataframe-for-one-element-with-an-option-matching-a-regular-expression">Read a dataframe for one element with an option matching a regular expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#read-the-total-value-for-a-property-stored-with-store-values-type-sum">Read the total value for a property stored with <code class="docutils literal notranslate"><span class="pre">store_values_type</span> <span class="pre">=</span> <span class="pre">&quot;sum&quot;</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#find-out-all-options-available-for-a-property">Find out all options available for a property</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#find-out-what-option-values-are-present-for-a-property">Find out what option values are present for a property</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#read-a-dataframe-for-all-elements">Read a dataframe for all elements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#estimate-space-required-by-pydss-simulation">Estimate space required by PyDSS simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="project_layout.html">PyDSS Project Layout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="project_layout.html#simulation-settings">Simulation Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="project_layout.html#scenarios">Scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="project_layout.html#exports">Exports</a></li>
<li class="toctree-l2"><a class="reference internal" href="project_layout.html#reports">Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="project_layout.html#example-layout">Example layout</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simulation_settings.html">Simulation Settings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#simulationsettings">SimulationSettings</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#project">Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#scenario">Scenario</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#scenariopostprocess">ScenarioPostProcess</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#snapshottimepointselectionconfig">SnapshotTimePointSelectionConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#exports">Exports</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#frequency">Frequency</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#helics">Helics</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#montecarlo">MonteCarlo</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#plots">Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#profiles">Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#reports">Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#simulationrange">SimulationRange</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#capacitorstatechangecountreport">CapacitorStateChangeCountReport</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#feederlossesreport">FeederLossesReport</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#pvclippingreport">PvClippingReport</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#pvcurtailmentreport">PvCurtailmentReport</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#regcontroltapnumberchangecountsreport">RegControlTapNumberChangeCountsReport</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#thermalmetricsreport">ThermalMetricsReport</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#voltagemetricsreport">VoltageMetricsReport</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_settings.html#reportbase">ReportBase</a><ul>
<li class="toctree-l3"><a class="reference internal" href="default_simulation_settings.html">Default Simulation Settings</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example PyDSS simulations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Dynamic%20visualization%20capabilities.html">Dynamic visualization capabilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Dynamic%20plots.html">Frequency sweep plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dynamic%20plots.html#gis-plot">GIS plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dynamic%20plots.html#histogram-plot">Histogram plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dynamic%20plots.html#voltage-sag-plot">Voltage sag plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dynamic%20plots.html#time-series-plot">Time series plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dynamic%20plots.html#voltage-current-heatmap-plot">Voltage / Current heatmap plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dynamic%20plots.html#xy-plots">XY plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="Creating%20custom%20dynamic%20plots.html">Development of custom dynamic plots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Extended%20controls%20library.html">Extended controls library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Creating%20custom%20controls.html">Extending PyDSS controllers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="External%20interfaces%20for%20cosimulation.html">External PyDSS interfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interfaces.html">The socket interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="interfaces.html#the-helics-interface">The HELICS interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="interfaces.html#the-api-interface">The API interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Automated%20comparison%20of%20scenarios.html">Automated scenario comparison</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Result%20management.html">Enhanced result export features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reports</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#global-settings">Global settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#format">Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#granularity">Granularity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#export-parameters">Export Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-data">Output Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-new-reports">Adding New Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hdf-data-format.html">HDF Data Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hdf-data-format.html#layout">Layout</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hdf-data-format.html#common-metadata">Common Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="hdf-data-format.html#dataset-metadata">Dataset Metadata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="hdf-data-format.html#attributes-per-dataset">Attributes per dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="hdf-data-format.html#metadata-datasets-per-dataset">Metadata datasets per dataset</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hdf-data-format.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="PyDSS.html">PyDSS</a><ul class="simple">
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyDSS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Reports</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/reports.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="reports">
<h1>Reports<a class="headerlink" href="#reports" title="Permalink to this headline">¶</a></h1>
<p>This page describes how to generate PyDSS reports from exported simulation data.</p>
<p>The following reports can be enabled in the project’s <code class="docutils literal notranslate"><span class="pre">simulation.toml</span></code>
<code class="docutils literal notranslate"><span class="pre">Reports</span></code> section.</p>
<ul class="simple">
<li><p>Capacitor State Change Counts (<code class="docutils literal notranslate"><span class="pre">EXPERIMENTAL</span></code>): Reports the state changes per Capacitor.</p></li>
<li><p>Feeder Losses: Reports the feeder losses.</p></li>
<li><p>PV Clipping (<code class="docutils literal notranslate"><span class="pre">EXPERIMENTAL</span></code>): Reports PV Clipping for the simulation.</p></li>
<li><p>PV Curtailment (<code class="docutils literal notranslate"><span class="pre">EXPERIMENTAL</span></code>): Reports PV Curtailment at every time point in the simulation.</p></li>
<li><p>RegControl Tap Number Change Counts (<code class="docutils literal notranslate"><span class="pre">EXPERIMENTAL</span></code>): Reports the tap number changes per RegControl.</p></li>
<li><p>Thermal Metrics: Reports thermal metrics.</p></li>
<li><p>Voltage Metrics: Reports voltage metrics.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">Reports</span></code> section contains global settings that may apply to any report.
Each report may contain its own specific settings.</p>
<section id="global-settings">
<h2>Global settings<a class="headerlink" href="#global-settings" title="Permalink to this headline">¶</a></h2>
<section id="format">
<h3>Format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h3>
<p>Used to control export format for dataframes: <code class="docutils literal notranslate"><span class="pre">.csv</span></code> or <code class="docutils literal notranslate"><span class="pre">.h5</span></code>. In either
case you can use PyDSS to convert the file back to a dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PyDSS.utils.dataframe_utils</span> <span class="kn">import</span> <span class="n">read_dataframe</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">read_dataframe</span><span class="p">(</span><span class="s2">&quot;path/to/filename&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="granularity">
<h3>Granularity<a class="headerlink" href="#granularity" title="Permalink to this headline">¶</a></h3>
<p>Controls how often and how much data is collected. This applies to elements of
given type, such as PVSystems. Suppose there are 10 PVSystems in the circuit
and 35,040 time points in the simulation. Each value stored is a float that
consumes 8 bytes.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">per_element_per_time_point</span></code>: Collect data for every element at every time
point.</p>
<p>Storage required: 100 elements * 35040 floats * 8 bytes = 27 MiB</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">per_element_total</span></code>: Keep a running sum for each element. Report the total
for each element.</p>
<p>Storage required: 100 elements * 1 float * 8 bytes = 800
bytes</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">all_elements_per_time_point</span></code>: Sum all elements for a given type at every
time point.</p>
<p>Storage required: 1 * 35040 floats * 8 bytes = 273 KiB</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">all_elements_total</span></code>: Keep a running sum across all elements for a given
type.</p>
<p>Storage required: 1 element * 1 number = 8 bytes</p>
</li>
</ul>
</section>
</section>
<section id="export-parameters">
<h2>Export Parameters<a class="headerlink" href="#export-parameters" title="Permalink to this headline">¶</a></h2>
<p>Each report configures its own export parameters. PyDSS will serialize the
export parameters used in a simulation to
<code class="docutils literal notranslate"><span class="pre">&lt;project-path&gt;/Exports/&lt;scenario-name&gt;/ExportsActual.toml</span></code>.</p>
<p>This can be useful for debugging purposes when you develop your own reports.</p>
</section>
<section id="output-data">
<h2>Output Data<a class="headerlink" href="#output-data" title="Permalink to this headline">¶</a></h2>
<p>PyDSS stores generated reports in <code class="docutils literal notranslate"><span class="pre">&lt;project-path&gt;/Reports</span></code>.</p>
</section>
<section id="adding-new-reports">
<h2>Adding New Reports<a class="headerlink" href="#adding-new-reports" title="Permalink to this headline">¶</a></h2>
<p>Here’s how to create a new report in PyDSS.</p>
<ol class="arabic simple">
<li><p>Create a new class in a Python file in <code class="docutils literal notranslate"><span class="pre">PyDSS/reports</span></code>. The class must
inherit from <code class="docutils literal notranslate"><span class="pre">ReportBase</span></code>.</p></li>
<li><p>Implement the required methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">generate</span></code>:  Generates the report files. This should create the files in
<code class="docutils literal notranslate"><span class="pre">&lt;project-path&gt;/Reports</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_required_exports</span></code>:  Defines the export parameters at runtime. Refer
to <a class="reference internal" href="tutorial.html#pre-filtering-export-data"><span class="std std-ref">Pre-filtering Export Data</span></a>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Refer to the simulation settings in <code class="docutils literal notranslate"><span class="pre">tests/data/pv_reports_project/simulation.toml</span></code>
for an example configuration that enables these reports.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Result%20management.html" class="btn btn-neutral float-left" title="Enhanced result export features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="hdf-data-format.html" class="btn btn-neutral float-right" title="HDF Data Format" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Aadil Latif.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>